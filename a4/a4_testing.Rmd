---
title: "Assignment 4"
author: "Azoacha Forcheh, 20558994"
output:
  pdf_document:
    fig_caption: yes
    keep_tex: yes
    latex_engine: xelatex
  html_document:
    mathjax: local
    self_contained: no
geometry: margin=.75in
graphics: yes
header-includes:
  - \usepackage{graphicx}
  - \usepackage{color}
  - \usepackage{enumitem}
  - \newcommand{\benum}{\begin{enumerate}}
  - \newcommand{\eenum}{\end{enumerate}}
  - \newcommand{\bitem}{\begin{itemize}}
  - \newcommand{\eitem}{\end{itemize}}
fontsize: 9pt
classoption: letter
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

\benum

\item Download the `olive` data from the course website. In that file, there is a dataset on the fatty acid content of 572 different Italian olive oils.  In total eight different fatty acids are measured.  All olive oils come from one of nine different olive growing regions in Italy. 

    ```{r, echo=FALSE, fig.align="center", fig.width=3}
oldwd <- getwd()
setwd("/Users/rwoldford/Documents/Admin/courses/Data Visualization/Assignments/Fall16/Assignment 4")
   library(png)
   library(grid)
  img <- readPNG("./img/OliveRegions.png")
  grid.raster(img)
  setwd(oldwd)
    ```


    Once you load this file into your `R` session there will be a data set called \texttt{olive}. 


    ```{r, eval=FALSE}
# For example, you could use the source command.  
# Here the file is stored in a sub-directory "R" of the current directory "."
load("./R/olive.Rda")
# Once loaded the data is available as the data frame `diabetes'
head(olive)
    ```

    ```{r, echo=FALSE}
oldwd <- getwd()
setwd("/Users/rwoldford/Documents/Admin/courses/Data Visualization/Assignments/Fall16/Assignment 4")
load("./R/olive.Rda")
head(olive)
setwd(oldwd)
    ```
    
    In this question you are going to focus on the fatty acid `oleic`.
    
    a. (2 marks) Separate the data on `oleic` into 9 different groups as defined by the olive growing `Area`, and draw side by side boxplots of all 9 groups.  Colour the boxplots uniquely using
        ```{r}
    library(colorspace)
    cols <- rainbow_hcl(9) # Use these colours.
        ```
    Show your code together with your output.
    
    b. Load the `R` package `PairViz` (i.e. `library(PairViz)`).  Use the variate `oleic` and the same colours for the olive growing areas as in part (a) throughout the following:
         i. (3 marks) Suppose we wish every pair of boxplots to appear next to one another in the same plot.  
            - How many such pairwise comparisons exist?
            - Give the code that will construct this display (without any other constraint on the ordering).
            - Show the display which resulted from your code. 
        
        ii. (5 marks) Suppose we wish every pair of boxplots to appear next to one another in the same plot but that the boxplots should be grouped so that all areas appear only once in each group.  
            - Maintaining the same colours for the areas as before, 
            give the code that will construct this display 
            (without any other constraint on the ordering).  
            - Show the display which resulted from your code. 
        
        iii. (7 marks) Construct $t$ tests for every pair of olive growing areas (recall  `pairwise.t.test` from class).  Use the significance levels from these tests to construct an ordering of the boxplot pairs, one which favours having the most significantly different pairs at the left of the display.  
            - Show your code.
            - Show the resulting display.
            - Does the ordering perfectly arrange the boxplots so that for any pairwise comparison, those to the left are more significant and those to the right are less significant? 
            - Explain why the ordering was successful (or unsuccessful) in this way.
            - Show a display showing only the first 8 comparisons.
        
        iv. (7 marks) Use the significance levels from part (iii) but now order the boxplots so that the **least** significant differences appear earliest in the sequence from left to right.
            - Show your code.
            - Show the resulting display.
            - Does the ordering perfectly arrange the boxplots so that for any pairwise comparison, those to the left are less significant and those to the right are more significant? 
            - Explain why the ordering was successful (or unsuccessful) in this way.
            - Show a display showing only the first 8 comparisons.
            
        v. (2 marks) Is the sequence used in part (iii) the reverse of that in part (iv)? 
            - If it is, must it be the reverse?  
            - If it is not, is it impossible for it to be the same?  
            - Either way, explain your reasoning.
            
    c. The olive growing areas are divided into three different regions: North, South, and Sardinia.  In this part of the question, interest lies only in comparisons between each growing area in the south  and each area in Sardinia.  That is, each southern area (4 areas) is to be compared to each Sardinian area  (2 areas) yielding a total of 8 comparisons of interest.
    
        i. (4 marks)  Having loaded `PairViz`, create a graph having all six areas in the South and Sardinia as nodes and with edges between every pair whose comparison is of interest.
            - plot this graph
            - show the code used to create the graph and to plot it.
            
        ii. (4 marks)  Using the graph from part (i), construct an Eulerian and use that Eulerian to produce a sequence of boxplots that show the comparisons of interest.
            - show the boxplot display
            - show the code used to construct the Eulerian and the display.
           
\eenum